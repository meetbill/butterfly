# coding=UTF-8
"""
# Author: meetbill(wangbin34)
# Created Time : 2020-10-04 18:12:58

# File Name: __init__.py
# Description: mcpack-2 协议的 python 实现；
    1）序列化过程，将对象转化为 mcpack 协议的字节编码，并返回字节流；
    2）反序列化过程：将 mcpack 协议的字节流转化对象（值）。

Mcpack V2 数据序列化格式

Bool:
+--------+---------+--------------------------+------------+----------------------------+
|  type  | key len |        key value         | decollator |           value            |
|  (1b)  |  (1b)   |         (klen b)         |    \x00    |            (1b)            |
+--------+---------+--------------------------+------------+----------------------------+

Uint8|Int8:
+--------+---------+--------------------------+------------+----------------------------+
|  type  | key len |        key value         | decollator |           value            |
|  (1b)  |  (1b)   |         (klen b)         |    \x00    |            (1b)            |
+--------+---------+--------------------------+------------+----------------------------+

Uint16|Int16:
+--------+---------+--------------------------+------------+----------------------------+
|  type  | key len |        key value         | decollator |           value            |
|  (1b)  |  (1b)   |         (klen b)         |    \x00    |            (2b)            |
+--------+---------+--------------------------+------------+----------------------------+

Uint32|Int32|Float:
+--------+---------+--------------------------+------------+----------------------------+
|  type  | key len |        key value         | decollator |           value            |
|  (1b)  |  (1b)   |         (klen b)         |    \x00    |            (4b)            |
+--------+---------+--------------------------+------------+----------------------------+

Uint64|Int64|Double:
+--------+---------+--------------------------+------------+----------------------------+
|  type  | key len |        key value         | decollator |           value            |
|  (1b)  |  (1b)   |         (klen b)         |    \x00    |            (8b)            |
+--------+---------+--------------------------+------------+----------------------------+

Short String:
+--------+---------+--------------------------+------------+----------------------------+------------+
|  type  | key len | value len |  key value   | decollator |           value            | decollator |
|  (1b)  |  (1b)   |    (1b)   |  (klen b)    |    \x00    |          (vlen b)          |    \x00    |
+--------+---------+--------------------------+------------+----------------------------+------------+

String:
+--------+---------+--------------------------+------------+----------------------------+------------+
|  type  | key len | value len |  key value   | decollator |           value            | decollator |
|  (1b)  |  (1b)   |    (4b)   |  (klen b)    |    \x00    |          (vlen b)          |    \x00    |
+--------+---------+--------------------------+------------+----------------------------+------------+

Short Binary:
+--------+---------+--------------------------+------------+----------------------------+
|  type  | key len | value len |  key value   | decollator |           value            |
|  (1b)  |  (1b)   |    (1b)   |  (klen b)    |    \x00    |          (vlen b)          |
+--------+---------+--------------------------+------------+----------------------------+

Binary:
+--------+---------+--------------------------+------------+----------------------------+
|  type  | key len | value len |  key value   | decollator |           value            |
|  (1b)  |  (1b)   |    (4b)   |  (klen b)    |    \x00    |          (vlen b)          |
+--------+---------+--------------------------+------------+----------------------------+

Array|Object:
+--------+---------+--------------------------+------------+-------------+-----------------+
|  type  | key len | item size |  key value   | decollator | element num |     elements    |
|  (1b)  |  (1b)   |    (4b)   |  (klen b)    |    \x00    |     (4b)    |                 |
+--------+---------+--------------------------+------------+-------------------------------+
"""

from xlib.ral.mcpack.encode import dumps
from xlib.ral.mcpack.decode import loads
